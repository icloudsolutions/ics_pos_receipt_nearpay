<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <!-- Inherit the main OrderReceipt to add NearPay in after-footer -->
    <t t-name="OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[@class='after-footer']" position="inside">
            <!-- âž• NearPay Info -->
            <t t-if="this.env.services.pos.config.nearpay_receipt_info and this.props.data.headerData.nearpay_data">
                <div class="nearpay-receipt-section mt-2" style="border-top: 1px dashed #ccc; padding-top: 10px; font-size: 75%;">
                    <div style="font-weight:bold; text-align:center;">NearPay Transaction</div>
                    <div t-if="this.props.data.headerData.nearpay_data.card_scheme">
                        Card: <t t-esc="this.props.data.headerData.nearpay_data.card_scheme"/>
                    </div>
                    <div t-if="this.props.data.headerData.nearpay_data.approval_code">
                        Approval Code: <t t-esc="this.props.data.headerData.nearpay_data.approval_code"/>
                    </div>
                    <div t-if="this.props.data.headerData.nearpay_data.transaction_id">
                        Transaction ID: <t t-esc="this.props.data.headerData.nearpay_data.transaction_id"/>
                    </div>
                    <div t-if="this.props.data.headerData.nearpay_data.status">
                        Status: <t t-esc="this.props.data.headerData.nearpay_data.status"/>
                    </div>
                    <div t-if="this.props.data.headerData.nearpay_data.terminal_id">
                        Terminal: <t t-esc="this.props.data.headerData.nearpay_data.terminal_id"/>
                    </div>
                    <div t-if="this.props.data.headerData.nearpay_data.retrieval_ref_no">
                        RRN: <t t-esc="this.props.data.headerData.nearpay_data.retrieval_ref_no"/>
                    </div>
                </div>
            </t>
        </xpath>
    </t>
</templates>